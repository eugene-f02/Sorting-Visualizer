{"ast":null,"code":"var _jsxFileName = \"/Users/eugene/Desktop/sorting-algo/sorting-algo/src/Bars.js\";\nimport React from 'react';\nimport Bar from './Bar.js';\nimport generateBars from './misc/generateBars.js';\nimport get_bubble_sort_animations from './sorting-algo/bubble_sort.js';\nimport get_merge_sort_animations from './sorting-algo/merge_sort.js';\nimport get_insertion_sort_animations from './sorting-algo/insert_sort.js';\nimport get_quick_sort_animations from './sorting-algo/quick_sort.js';\nimport get_heap_sort_animations from './sorting-algo/heap_sort.js';\n\nclass Bars extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      bars: generateBars(50),\n      color: [],\n      lastTimeOutId: 6,\n      animation_speed: 10,\n      num_of_bars: 50,\n      sorted: false\n    };\n    this.state.resetBars = this.state.bars.slice();\n    this.state.color = Array(this.state.bars.length).fill('black');\n    this.sortBars = this.sortBars.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n\n    if (name === 'num_of_bars') {\n      let copyBars = this.state.bars.slice();\n      let copyColor = this.state.color.slice();\n      let copyResetBars = this.state.resetBars.slice();\n      if (this.state.sorted === true) this.clearTimouts().then(() => console.log(\"asd\")()); // () => this.setState({bars: this.state.resetBars})\n      else {\n          if (value > this.state.bars.length) {\n            for (let i = this.state.bars.length; i < value; i++) {\n              let rndNum = Math.floor(Math.random() * 800 + 100);\n              copyBars.push(rndNum);\n              copyColor.push('black');\n              copyResetBars.push(rndNum);\n            }\n          } else {\n            for (let i = this.state.bars.length; i > value; i--) {\n              copyBars.pop();\n              copyColor.pop();\n              copyResetBars.pop();\n            }\n          }\n\n          this.setState({\n            sorted: false,\n            bars: copyBars,\n            color: copyColor,\n            resetBars: copyResetBars\n          });\n        }\n    }\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  renderBar(val, index) {\n    return /*#__PURE__*/React.createElement(Bar, {\n      key: index,\n      val: val,\n      color: this.state.color[index],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    });\n  }\n\n  get_animations(sortType) {\n    switch (sortType) {\n      case \"bubble\":\n        return get_bubble_sort_animations(this.state.bars.slice());\n\n      case \"merge\":\n        return get_merge_sort_animations(this.state.bars.slice());\n\n      case \"insert\":\n        return get_insertion_sort_animations(this.state.bars.slice());\n\n      case \"quick\":\n        return get_quick_sort_animations(this.state.bars.slice());\n\n      case \"heap\":\n        return get_heap_sort_animations(this.state.bars.slice());\n\n      default:\n        return;\n    }\n  }\n\n  clearTimouts() {\n    let newTimeoutId = window.setTimeout(function () {}, 0);\n    let copyNewTimeoutId = newTimeoutId;\n\n    while (this.state.lastTimeOutId < newTimeoutId) {\n      // clear all timeOuts\n      newTimeoutId--;\n      window.clearTimeout(newTimeoutId); // will do nothing if no timeout with id is present\n    }\n\n    this.setState({\n      sorted: false,\n      lastTimeOutId: copyNewTimeoutId,\n      bars: this.state.resetBars,\n      color: Array(this.state.bars.length).fill('black')\n    });\n  }\n\n  generate_new_array() {\n    let newBars = generateBars(this.state.num_of_bars);\n    this.setState({\n      bars: newBars,\n      resetBars: newBars\n    });\n  }\n\n  sortBars(sortType) {\n    let copyBars = this.state.bars.slice();\n    let copyColor = this.state.color.slice();\n    let animations = [];\n    animations = this.get_animations(sortType);\n    console.log(animations.length);\n    animations.forEach((value, index) => {\n      if (index % 3 === 0) {\n        setTimeout(() => {\n          copyColor[value[0]] = `red`;\n          copyColor[value[1]] = `blue`;\n          this.setState({\n            color: copyColor,\n            lastTimeOutId: this.state.lastTimeOutId + 1\n          }); // increasing lastTimeOutId so that clearTimouts() does less iterations\n        }, this.state.animation_speed * index);\n      } else if (index % 3 === 1) {\n        setTimeout(() => {\n          if (sortType === \"merge\") {\n            copyBars[value[0]] = value[1];\n          } else {\n            swap(copyBars, value[0], value[1]);\n            copyColor[value[0]] = `green`;\n            copyColor[value[1]] = `green`;\n          }\n\n          this.setState({\n            bars: copyBars,\n            color: copyColor,\n            lastTimeOutId: this.state.lastTimeOutId + 1\n          }); // increasing lastTimeOutId so that clearTimouts() does less iterations\n        }, this.state.animation_speed * index);\n      } else {\n        setTimeout(() => {\n          copyColor[value[0]] = `black`;\n          copyColor[value[1]] = `black`;\n          this.setState({\n            color: copyColor,\n            lastTimeOutId: this.state.lastTimeOutId + 1\n          }); // increasing lastTimeOutId so that clearTimouts() does less iterations\n        }, this.state.animation_speed * index);\n      }\n\n      if (index === animations.length - 1) {\n        setTimeout(() => {\n          this.setState({\n            sorted: true\n          });\n        }, this.state.animation_speed * (index + 1));\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.generate_new_array(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, \"Generate New Array\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.sortBars(\"quick\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, \"Quick Sort\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.sortBars(\"heap\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, \"Heap Sort\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.sortBars(\"merge\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, \"Merge Sort\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.sortBars(\"bubble\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, \"Bubble Sort\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.sortBars(\"insert\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, \"Insertion Sort\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.clearTimouts(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, \"Stop\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => console.log(this.state),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, \"State\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"range\",\n      min: \"5\",\n      max: \"200\",\n      value: this.state.animation_speed,\n      name: \"animation_speed\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"range\",\n      min: \"10\",\n      max: \"100\",\n      value: this.state.num_of_bars,\n      name: \"num_of_bars\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    })), this.state.bars.map((val, index) => this.renderBar(val, index)));\n  }\n\n}\n\nexport function swap(arr, i, k) {\n  let temp = arr[i];\n  arr[i] = arr[k];\n  arr[k] = temp;\n}\nexport default Bars;","map":{"version":3,"sources":["/Users/eugene/Desktop/sorting-algo/sorting-algo/src/Bars.js"],"names":["React","Bar","generateBars","get_bubble_sort_animations","get_merge_sort_animations","get_insertion_sort_animations","get_quick_sort_animations","get_heap_sort_animations","Bars","Component","constructor","state","bars","color","lastTimeOutId","animation_speed","num_of_bars","sorted","resetBars","slice","Array","length","fill","sortBars","bind","handleChange","event","name","value","target","copyBars","copyColor","copyResetBars","clearTimouts","then","console","log","i","rndNum","Math","floor","random","push","pop","setState","renderBar","val","index","get_animations","sortType","newTimeoutId","window","setTimeout","copyNewTimeoutId","clearTimeout","generate_new_array","newBars","animations","forEach","swap","render","map","arr","k","temp"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Bar from './Bar.js';\nimport generateBars from './misc/generateBars.js'\nimport get_bubble_sort_animations from './sorting-algo/bubble_sort.js'\nimport get_merge_sort_animations from './sorting-algo/merge_sort.js'\nimport get_insertion_sort_animations from './sorting-algo/insert_sort.js'\nimport get_quick_sort_animations from './sorting-algo/quick_sort.js'\nimport get_heap_sort_animations from './sorting-algo/heap_sort.js'\n\n\nclass Bars extends React.Component{\n    constructor(){\n        super()\n        this.state={bars: generateBars(50),color:[],lastTimeOutId:6,animation_speed:10,num_of_bars:50,sorted:false}\n        this.state.resetBars=this.state.bars.slice()\n        this.state.color=Array(this.state.bars.length).fill('black')\n\n        this.sortBars=this.sortBars.bind(this)\n        this.handleChange=this.handleChange.bind(this)\n    }\n\n    handleChange(event) {\n        const {name, value} = event.target\n        if (name ==='num_of_bars'){\n\n            \n            let copyBars=this.state.bars.slice()\n            let copyColor=this.state.color.slice()\n            let copyResetBars=this.state.resetBars.slice()\n\n            if (this.state.sorted===true) this.clearTimouts().then(()=>console.log(\"asd\")() )// () => this.setState({bars: this.state.resetBars})\n\n            else{\n                if (value > this.state.bars.length){\n                    for(let i = this.state.bars.length;i<value;i++){\n                            let rndNum=Math.floor(Math.random()*800+100)\n                            copyBars.push(rndNum);\n                            copyColor.push('black')\n                            copyResetBars.push(rndNum)\n                    }\n                }\n                else{\n                    for(let i = this.state.bars.length;i>value;i--){\n                        copyBars.pop()\n                        copyColor.pop()\n                        copyResetBars.pop()\n                    }\n                }\n                this.setState({sorted:false,bars:copyBars,color:copyColor,resetBars:copyResetBars})\n            }\n        }\n        this.setState({\n            [name]: value\n        })\n    }\n\n    renderBar(val,index){\n        return (\n        <Bar key={index} val={val} color={this.state.color[index]}/>\n        );\n    }\n    get_animations(sortType){\n        switch(sortType){\n            case \"bubble\": return get_bubble_sort_animations(this.state.bars.slice())\n            case \"merge\": return get_merge_sort_animations(this.state.bars.slice())\n            case \"insert\": return get_insertion_sort_animations(this.state.bars.slice())\n            case \"quick\": return get_quick_sort_animations(this.state.bars.slice())\n            case \"heap\": return get_heap_sort_animations(this.state.bars.slice())\n            default: return\n        }\n    }\n\n    clearTimouts(){\n        let newTimeoutId = window.setTimeout(function() {}, 0);\n        let copyNewTimeoutId = newTimeoutId\n        while (this.state.lastTimeOutId<newTimeoutId) { // clear all timeOuts\n            newTimeoutId--\n            window.clearTimeout(newTimeoutId); // will do nothing if no timeout with id is present\n        }\n        this.setState({sorted:false,lastTimeOutId: copyNewTimeoutId, bars: this.state.resetBars ,color: Array(this.state.bars.length).fill('black')})\n\n    }\n\n    generate_new_array(){\n        let newBars=generateBars(this.state.num_of_bars)\n        this.setState({bars:newBars,resetBars: newBars})\n    }\n\n    sortBars(sortType){\n        let copyBars=this.state.bars.slice()\n        let copyColor=this.state.color.slice()\n        let animations=[]\n\n        animations=this.get_animations(sortType)\n        console.log(animations.length)\n        animations.forEach( (value,index) =>{\n            if (index % 3 === 0){\n                setTimeout( () => {\n                    copyColor[value[0]]=`red`\n                    copyColor[value[1]]=`blue`\n                    this.setState({color:copyColor,lastTimeOutId:this.state.lastTimeOutId+1}) // increasing lastTimeOutId so that clearTimouts() does less iterations\n                },this.state.animation_speed*index)\n            }\n            else if (index % 3 === 1 ){\n               setTimeout( () => {\n                    if (sortType === \"merge\"){\n                        copyBars[value[0]]=value[1]   \n                    }\n                    else{\n                        swap(copyBars,value[0],value[1])\n                        copyColor[value[0]]=`green`\n                        copyColor[value[1]]=`green`\n                    }\n                        \n                    this.setState({bars:copyBars,color:copyColor,lastTimeOutId:this.state.lastTimeOutId+1})// increasing lastTimeOutId so that clearTimouts() does less iterations\n                },this.state.animation_speed*index)\n            }\n            else{\n                setTimeout( () => {\n                    copyColor[value[0]]=`black`\n                    copyColor[value[1]]=`black`\n                    this.setState({color:copyColor,lastTimeOutId:this.state.lastTimeOutId+1})// increasing lastTimeOutId so that clearTimouts() does less iterations\n                }, this.state.animation_speed*index)\n            }\n            if (index===animations.length-1){\n                setTimeout( () => {\n                    this.setState({sorted:true})\n                },this.state.animation_speed*(index+1))\n\n            }\n            });\n    }\n\n    render(){\n        return(\n            <>\n             <div>\n            <button onClick={() => this.generate_new_array()}>Generate New Array</button>\n            <button onClick={() => this.sortBars(\"quick\")}>Quick Sort</button>\n            <button onClick={() => this.sortBars(\"heap\")}>Heap Sort</button>\n            <button onClick={() => this.sortBars(\"merge\")}>Merge Sort</button>\n            <button onClick={() => this.sortBars(\"bubble\")}>Bubble Sort</button>\n            <button onClick={() => this.sortBars(\"insert\")}>Insertion Sort</button>\n            <button onClick={() => this.clearTimouts()}>Stop</button>\n            <button onClick={() => console.log(this.state)}>State</button>\n            <input \n                    type=\"range\" \n                    min=\"5\" max=\"200\" value={this.state.animation_speed}\n                    name=\"animation_speed\" \n                    onChange={this.handleChange} \n            />\n              <input \n                    type=\"range\" \n                    min=\"10\" max=\"100\" value={this.state.num_of_bars}\n                    name=\"num_of_bars\" \n                    onChange={this.handleChange} \n            />\n            </div>\n            {this.state.bars.map( (val,index) => this.renderBar(val,index))}\n            </>\n\n        );\n    }\n}\nexport function swap(arr,i,k){\n    let temp=arr[i]\n    arr[i]=arr[k]\n    arr[k]=temp\n}\n\nexport default Bars\n"]},"metadata":{},"sourceType":"module"}